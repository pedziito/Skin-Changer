<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS2 Skin Changer - Web Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="auth-page">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="25" cy="25" r="23" stroke="url(#gradient)" stroke-width="4"/>
                        <path d="M25 10L35 25L25 40L15 25L25 10Z" fill="url(#gradient)"/>
                        <defs>
                            <linearGradient id="gradient" x1="0" y1="0" x2="50" y2="50">
                                <stop offset="0%" stop-color="#667eea"/>
                                <stop offset="100%" stop-color="#764ba2"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <h1>CS2 Skin Changer</h1>
                <p>Sign in to manage your weapon skins</p>
            </div>
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label for="loginUsername">Username</label>
                    <input type="text" id="loginUsername" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required autocomplete="current-password">
                </div>
                <div class="error-message" id="loginError"></div>
                <button type="submit" class="btn btn-primary">Sign In</button>
                <div class="auth-switch">
                    Don't have an account? <a href="#" id="showRegister">Sign Up</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Page -->
    <div id="registerPage" class="auth-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="25" cy="25" r="23" stroke="url(#gradient2)" stroke-width="4"/>
                        <path d="M25 10L35 25L25 40L15 25L25 10Z" fill="url(#gradient2)"/>
                        <defs>
                            <linearGradient id="gradient2" x1="0" y1="0" x2="50" y2="50">
                                <stop offset="0%" stop-color="#667eea"/>
                                <stop offset="100%" stop-color="#764ba2"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <h1>Create Account</h1>
                <p>Join CS2 Skin Changer community</p>
            </div>
            <form id="registerForm" class="auth-form">
                <div class="form-group">
                    <label for="registerUsername">Username</label>
                    <input type="text" id="registerUsername" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required minlength="6" autocomplete="new-password">
                    <small>Minimum 6 characters</small>
                </div>
                <div class="form-group">
                    <label for="registerLicenseKey">License Key</label>
                    <input type="text" id="registerLicenseKey" required placeholder="CS2-XXXXXXXXXXXXXXXXXXXX">
                    <small>Enter your license key to register</small>
                </div>
                <div class="error-message" id="registerError"></div>
                <button type="submit" class="btn btn-primary">Create Account</button>
                <div class="auth-switch">
                    Already have an account? <a href="#" id="showLogin">Sign In</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" style="display: none;">
        <nav class="navbar">
            <div class="navbar-brand">
                <svg width="35" height="35" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="23" stroke="url(#gradient3)" stroke-width="4"/>
                    <path d="M25 10L35 25L25 40L15 25L25 10Z" fill="url(#gradient3)"/>
                    <defs>
                        <linearGradient id="gradient3" x1="0" y1="0" x2="50" y2="50">
                            <stop offset="0%" stop-color="#667eea"/>
                            <stop offset="100%" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span>CS2 Skin Changer</span>
            </div>
            <div class="navbar-user">
                <span id="usernameDisplay"></span>
                <a href="downloads.html" class="btn btn-outline">Downloads</a>
                <button class="btn btn-outline" id="logoutBtn">Logout</button>
            </div>
        </nav>

        <div class="container">
            <!-- Header -->
            <div class="inventory-header">
                <h1>ðŸŽ® CS2 Inventory</h1>
                <div class="header-controls">
                    <input type="text" id="searchInput" placeholder="Search skins..." class="search-input">
                    <select id="weaponFilter" class="weapon-filter">
                        <option value="">All Weapons</option>
                    </select>
                    <select id="rarityFilter" class="rarity-filter">
                        <option value="">All Rarities</option>
                        <option value="Consumer Grade">Consumer Grade</option>
                        <option value="Industrial Grade">Industrial Grade</option>
                        <option value="Mil-Spec">Mil-Spec</option>
                        <option value="Restricted">Restricted</option>
                        <option value="Classified">Classified</option>
                        <option value="Covert">Covert</option>
                        <option value="Contraband">Contraband</option>
                    </select>
                </div>
            </div>

            <!-- Inventory Grid -->
            <div class="inventory-grid" id="inventoryGrid">
                <div class="loading-state">
                    <div class="loading-spinner"></div>
                    <p>Loading 13,000+ skins...</p>
                </div>
            </div>

            <!-- API Token Section -->
            <div class="card token-card">
                <h2>ðŸ”‘ API Token</h2>
                <div class="api-token-section">
                    <div id="apiTokenDisplay" class="token-display">
                        <span id="apiTokenText">Click to generate token</span>
                    </div>
                    <button class="btn btn-secondary" id="generateTokenBtn">Generate</button>
                    <button class="btn btn-outline" id="copyTokenBtn" style="display: none;">Copy</button>
                </div>
            </div>
        </div>

        <!-- Skin Detail Modal -->
        <div id="skinModal" class="modal-overlay" style="display: none;" onclick="closeSkinModal(event)">
            <div class="modal-panel" onclick="event.stopPropagation()">
                <div class="modal-close" onclick="closeSkinModal()">&times;</div>
                
                <div class="modal-content">
                    <img id="modalSkinImage" src="" alt="Skin" class="modal-skin-image">
                    
                    <div class="modal-info">
                        <div id="modalWeaponName" class="modal-weapon"></div>
                        <div id="modalSkinName" class="modal-skin-title"></div>
                        <div id="modalRarity" class="modal-rarity"></div>
                        
                        <!-- Float Selector -->
                        <div class="modal-section">
                            <label>Float Condition</label>
                            <div class="float-buttons">
                                <button class="float-btn" data-float="Factory New">FN</button>
                                <button class="float-btn" data-float="Minimal Wear">MW</button>
                                <button class="float-btn" data-float="Field-Tested">FT</button>
                                <button class="float-btn" data-float="Well-Worn">WW</button>
                                <button class="float-btn" data-float="Battle-Scarred">BS</button>
                            </div>
                        </div>
                        
                        <!-- StatTrak -->
                        <div id="statTrakOption" class="modal-section" style="display: none;">
                            <label>
                                <input type="checkbox" id="statTrakCheck"> StatTrakâ„¢
                            </label>
                        </div>
                        
                        <!-- Apply Button -->
                        <button class="btn btn-primary apply-btn" id="applyBtn">Apply Skin</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard-csapi.js"></script>
</body>
</html>
